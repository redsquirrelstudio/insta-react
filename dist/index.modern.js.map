{"version":3,"file":"index.modern.js","sources":["../src/index.js"],"sourcesContent":["/** @jsx React.DOM */\nimport React from 'react';\nimport './styles.css';\n\nconst InstaReact = ({tag, quantity = 4, cols = 4, links = false, descriptions = false}) => {\n\n  const [posts, setPosts] = React.useState([]);\n\n  const link = (url) => {\n    if (links) {\n      window.open(url, '_blank');\n    }\n  };\n\n  const getPosts = () => {\n    if (tag[0] === '#') {\n      fetch(`https://www.instagram.com/explore/tags/${tag.replace('#', '')}/?__a=1`)\n          .then((response) => {\n            response.json().then((data) => {\n              if (data.hasOwnProperty('graphql')) {\n                let new_posts = [];\n                for (let i = 0; i < quantity; i++) {\n                  let edge = data.graphql.hashtag.edge_hashtag_to_media.edges[i];\n                  if (edge){\n                    let post = edge.node\n                    new_posts.push({\n                      id: post.id,\n                      src: post.display_url,\n                      url: `https://www.instagram.com/p/${post.shortcode}/`,\n                      alt: post.accessibility_caption,\n                      description: post.edge_media_to_caption.edges[0]['node']['text'],\n                    });\n                  }\n                }\n                setPosts(new_posts);\n              }\n            });\n          }).catch(error => {\n        console.error(`Issue getting Instagram content: ${error}`);\n      });\n    } else {\n      fetch(`https://www.instagram.com/${tag}/?__a=1`)\n          .then(response => {\n            response.json().then((data) => {\n              if (data.hasOwnProperty('graphql')) {\n                let new_posts = [];\n                for (let i = 0; i < quantity; i++) {\n                  let edge = data.graphql.user.edge_owner_to_timeline_media.edges[i];\n                  if (edge){\n                    let post = edge.node\n                    new_posts.push({\n                      id: post.id,\n                      src: post.display_url,\n                      url: `https://www.instagram.com/p/${post.shortcode}/`,\n                      alt: post.accessibility_caption,\n                      description: post.edge_media_to_caption.edges[0]['node']['text'],\n                    });\n                  }\n\n                }\n                setPosts(new_posts);\n              }\n            });\n          }).catch(error => {\n        console.error(`Issue getting Instagram content: ${error}`);\n      });\n    }\n  }\n\n  React.useEffect(() => {\n    getPosts();\n  }, []);\n\n\n  return (\n      <div className=\"insta-react\">\n        {posts.map(post =>\n            (\n                <div onClick={() => link(post.url)} className=\"post\"\n                     style={{cursor: links ? 'pointer' : 'default', width: `${100 / cols}%`}}\n                     key={post.id}>\n                  <img alt={post.alt} src={post.src}/>\n                  {descriptions ? <p className=\"description\">{post.description}</p> : null}\n                </div>\n            )) }\n      </div>\n  )\n};\n\nexport default InstaReact;"],"names":["InstaReact","tag","quantity","cols","links","descriptions","React","useState","posts","setPosts","link","url","window","open","getPosts","fetch","replace","then","response","json","data","hasOwnProperty","new_posts","i","edge","graphql","hashtag","edge_hashtag_to_media","edges","post","node","push","id","src","display_url","shortcode","alt","accessibility_caption","description","edge_media_to_caption","error","console","user","edge_owner_to_timeline_media","useEffect","map","cursor","width"],"mappings":"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"}